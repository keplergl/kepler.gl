<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [visStateUpdaters][1]
    -   [addFilterUpdater][3]
    -   [addLayerUpdater][5]
    -   [enlargeFilterUpdater][7]
    -   [INITIAL_VIS_STATE][9]
    -   [interactionConfigChangeUpdater][11]
    -   [layerClickUpdater][13]
    -   [layerHoverUpdater][15]
    -   [layerTypeChangeUpdater][17]
    -   [layerVisConfigChangeUpdater][19]
    -   [layerVisualChannelChangeUpdater][21]
    -   [loadFilesErrUpdater][23]
    -   [loadFilesUpdater][25]
    -   [mapClickUpdater][27]
    -   [receiveMapConfigUpdater][29]
    -   [removeDatasetUpdater][31]
    -   [removeFilterUpdater][33]
    -   [removeLayerUpdater][35]
    -   [reorderLayerUpdater][37]
    -   [resetMapConfigUpdater][39]
    -   [setFilterPlotUpdater][41]
    -   [setFilterUpdater][43]
    -   [showDatasetTableUpdater][45]
    -   [toggleFilterAnimationUpdater][47]
    -   [toggleLayerForMapUpdater][49]
    -   [toggleSplitMapUpdater][51]
    -   [updateAnimationTimeUpdater][53]
    -   [updateFilterAnimationSpeedUpdater][55]
    -   [updateLayerAnimationSpeedUpdater][57]
    -   [updateLayerBlendingUpdater][59]
    -   [updateVisDataUpdater][61]

## visStateUpdaters

Updaters for `visState` reducer. Can be used in your root reducer to directly modify kepler.gl's state.
Read more about [Using updaters][63]

**Examples**

```javascript
import keplerGlReducer, {visStateUpdaters} from 'kepler.gl/reducers';
// Root Reducer
const reducers = combineReducers({
 keplerGl: keplerGlReducer,
 app: appReducer
});

const composedReducer = (state, action) => {
 switch (action.type) {
   case 'CLICK_BUTTON':
     return {
       ...state,
       keplerGl: {
         ...state.keplerGl,
         foo: {
            ...state.keplerGl.foo,
            visState: visStateUpdaters.enlargeFilterUpdater(
              state.keplerGl.foo.visState,
              {idx: 0}
            )
         }
       }
     };
 }
 return reducers(state, action);
};

export default composedReducer;
```

### addFilterUpdater

Add a new filter

-   **Action**: [`addFilter`][64]

**Parameters**

-   `state` **[Object][65]** `visState`
-   `action` **[Object][65]** action
    -   `action.dataId` **[string][66]** dataset `id` this new filter is associated with

Returns **[Object][65]** nextState

### addLayerUpdater

Add a new layer

-   **Action**: [`addLayer`][67]

**Parameters**

-   `state` **[Object][65]** `visState`
-   `action` **[Object][65]** action
    -   `action.props` **[Object][65]** new layer props

Returns **[Object][65]** nextState

### enlargeFilterUpdater

Show larger time filter at bottom for time playback (apply to time filter only)

-   **Action**: [`enlargeFilter`][68]

**Parameters**

-   `state` **[Object][65]** `visState`
-   `action` **[Object][65]** action
    -   `action.idx` **[Number][69]** index of filter to enlarge

Returns **[Object][65]** nextState

### INITIAL_VIS_STATE

Default initial `visState`

Type: [Object][65]

#### Properties

-   `layers` **[Array][70]** 
-   `layerData` **[Array][70]** 
-   `layerToBeMerged` **[Array][70]** 
-   `layerOrder` **[Array][70]** 
-   `filters` **[Array][70]** 
-   `filterToBeMerged` **[Array][70]** 
-   `datasets` **[Array][70]** 
-   `editingDataset` **[string][66]** 
-   `interactionConfig` **[Object][65]** 
-   `interactionToBeMerged` **[Object][65]** 
-   `layerBlending` **[string][66]** 
-   `hoverInfo` **[Object][65]** 
-   `clicked` **[Object][65]** 
-   `mousePos` **[Object][65]** 
-   `splitMaps` **[Array][70]** a list of objects of layer availabilities and visibilities for each map
-   `layerClasses` **[Object][65]** 
-   `animationConfig` **[Object][65]** 
-   `editor` **[Object][65]** 

### interactionConfigChangeUpdater

Update `interactionConfig`

-   **Action**: [`interactionConfigChange`][71]

**Parameters**

-   `state` **[Object][65]** `visState`
-   `action` **[Object][65]** action
    -   `action.config` **[Object][65]** new config as key value map: `{tooltip: {enabled: true}}`

Returns **[Object][65]** nextState

### layerClickUpdater

Trigger layer click event with clicked object

-   **Action**: [`onLayerClick`][72]

**Parameters**

-   `state` **[Object][65]** `visState`
-   `action` **[Object][65]** action
    -   `action.info` **[Object][65]** Object clicked, returned by deck.gl

Returns **[Object][65]** nextState

### layerHoverUpdater

Trigger layer hover event with hovered object

-   **Action**: [`onLayerHover`][73]

**Parameters**

-   `state` **[Object][65]** `visState`
-   `action` **[Object][65]** action
    -   `action.info` **[Object][65]** Object hovered, returned by deck.gl

Returns **[Object][65]** nextState

### layerTypeChangeUpdater

Update layer type. Previews layer config will be copied if applicable.

-   **Action**: [`layerTypeChange`][74]

**Parameters**

-   `state` **[Object][65]** `visState`
-   `action` **[Object][65]** action
    -   `action.oldLayer` **[Object][65]** layer to be updated
    -   `action.newType` **[string][66]** new type

Returns **[Object][65]** nextState

### layerVisConfigChangeUpdater

Update layer `visConfig`

-   **Action**: [`layerVisConfigChange`][75]

**Parameters**

-   `state` **[Object][65]** `visState`
-   `action` **[Object][65]** action
    -   `action.oldLayer` **[Object][65]** layer to be updated
    -   `action.newVisConfig` **[Object][65]** new visConfig as a key value map: e.g. `{opacity: 0.8}`

Returns **[Object][65]** nextState

### layerVisualChannelChangeUpdater

Update layer visual channel

-   **Action**: [`layerVisualChannelConfigChange`][76]

**Parameters**

-   `state` **[Object][65]** `visState`
-   `action` **[Object][65]** action
    -   `action.oldLayer` **[Object][65]** layer to be updated
    -   `action.newConfig` **[Object][65]** new visual channel config
    -   `action.channel` **[string][66]** channel to be updated

Returns **[Object][65]** nextState

### loadFilesErrUpdater

Trigger loading file error

-   **Action**: [`loadFilesErr`][77]

**Parameters**

-   `state` **[Object][65]** `visState`
-   `action` **[Object][65]** action
    -   `action.error` **any** 

Returns **[Object][65]** nextState

### loadFilesUpdater

Trigger file loading dispatch `addDataToMap` if succeed, or `loadFilesErr` if failed

-   **Action**: [`loadFiles`][78]

**Parameters**

-   `state` **[Object][65]** `visState`
-   `action` **[Object][65]** action
    -   `action.files` **[Array][70]&lt;[Object][65]>** array of fileblob

Returns **[Object][65]** nextState

### mapClickUpdater

Trigger map click event, unselect clicked object

-   **Action**: [`onMapClick`][79]

**Parameters**

-   `state` **[Object][65]** `visState`

Returns **[Object][65]** nextState

### receiveMapConfigUpdater

Propagate `visState` reducer with a new configuration. Current config will be override.

-   **Action**: [`receiveMapConfig`][80]

**Parameters**

-   `state` **[Object][65]** `visState`
-   `action` **[Object][65]** action
    -   `action.payload` **[Object][65]** map config to be propagated
        -   `action.payload.config` **[Object][65]** map config to be propagated
        -   `action.payload.option` **[Object][65]** {keepExistingConfig: true | false}
    -   `action.payload.config`   (optional, default `{}`)
    -   `action.payload.options`   (optional, default `{}`)

Returns **[Object][65]** nextState

### removeDatasetUpdater

Remove a dataset and all layers, filters, tooltip configs that based on it

-   **Action**: [`removeDataset`][81]

**Parameters**

-   `state` **[Object][65]** `visState`
-   `action` **[Object][65]** action
    -   `action.key` **[string][66]** dataset id

Returns **[Object][65]** nextState

### removeFilterUpdater

Remove a filter

-   **Action**: [`removeFilter`][82]

**Parameters**

-   `state` **[Object][65]** `visState`
-   `action` **[Object][65]** action
    -   `action.idx` **[Number][69]** index of filter to b e removed

Returns **[Object][65]** nextState

### removeLayerUpdater

remove layer

-   **Action**: [`removeLayer`][83]

**Parameters**

-   `state` **[Object][65]** `visState`
-   `action` **[Object][65]** action
    -   `action.idx` **[Number][69]** index of layer to b e removed

Returns **[Object][65]** nextState

### reorderLayerUpdater

Reorder layer

-   **Action**: [`reorderLayer`][84]

**Parameters**

-   `state` **[Object][65]** `visState`
-   `action` **[Object][65]** action
    -   `action.order` **[Array][70]&lt;[Number][69]>** an array of layer indexes

Returns **[Object][65]** nextState

### resetMapConfigUpdater

reset visState to initial State

-   **Action**: [`resetMapConfig`][85]

**Parameters**

-   `state` **[Object][65]** `visState`

Returns **[Object][65]** nextState

### setFilterPlotUpdater

Set the property of a filter plot

-   **Action**: [`setFilterPlot`][86]

**Parameters**

-   `state` **[Object][65]** `visState`
-   `action` **[Object][65]** action
    -   `action.idx` **[Number][69]** 
    -   `action.newProp` **[Object][65]** key value mapping of new prop `{yAxis: 'histogram'}`

Returns **[Object][65]** nextState

### setFilterUpdater

Update filter property

-   **Action**: [`setFilter`][87]

**Parameters**

-   `state` **[Object][65]** `visState`
-   `action` **[Object][65]** action
    -   `action.idx` **[Number][69]** `idx` of filter to be updated
    -   `action.prop` **[string][66]** `prop` of filter, e,g, `dataId`, `name`, `value`
    -   `action.value` **any** new value
-   `datasetId` **[string][66]** used when updating a prop (dataId, name) that can be linked to multiple datasets

Returns **[Object][65]** nextState

### showDatasetTableUpdater

Display dataset table in a modal

-   **Action**: [`showDatasetTable`][88]

**Parameters**

-   `state` **[Object][65]** `visState`
-   `action` **[Object][65]** action
    -   `action.dataId` **[string][66]** dataset id to show in table

Returns **[Object][65]** nextState

### toggleFilterAnimationUpdater

Start and end filter animation

-   **Action**: [`toggleFilterAnimation`][89]

**Parameters**

-   `state` **[Object][65]** `visState`
-   `action` **[Object][65]** action
    -   `action.idx` **[Number][69]** idx of filter

Returns **[Object][65]** nextState

### toggleLayerForMapUpdater

Toggle visibility of a layer in a split map

-   **Action**: [`toggleLayerForMap`][90]

**Parameters**

-   `state` **[Object][65]** 
-   `action` **[Object][65]** 
    -   `action.mapIndex` **[Number][69]** index of the split map
    -   `action.layerId` **[string][66]** id of the layer

Returns **[Object][65]** nextState

### toggleSplitMapUpdater

Toggle visibility of a layer for a split map

-   **Action**: [`toggleSplitMap`][91]

**Parameters**

-   `state` **[Object][65]** `visState`
-   `action` **[Object][65]** action
    -   `action.payload` **([Number][69] \| [undefined][92])** index of the split map

Returns **[Object][65]** nextState

### updateAnimationTimeUpdater

Reset animation config current time to a specified value

-   **Action**: [`updateAnimationTime`][93]

**Parameters**

-   `state` **[Object][65]** `visState`
-   `action` **[Object][65]** action
    -   `action.value` **[Number][69]** the value current time will be set to

Returns **[Object][65]** nextState

### updateFilterAnimationSpeedUpdater

Change filter animation speed

-   **Action**: [`updateFilterAnimationSpeed`][94]

**Parameters**

-   `state` **[Object][65]** `visState`
-   `action` **[Object][65]** action
    -   `action.idx` **[Number][69]** `idx` of filter
    -   `action.speed` **[Number][69]** `speed` to change it to. `speed` is a multiplier

Returns **[Object][65]** nextState

### updateLayerAnimationSpeedUpdater

Update animation speed with the vertical speed slider

-   **Action**: [`updateLayerAnimationSpeed`][95]

**Parameters**

-   `state` **[Object][65]** `visState`
-   `action` **[Object][65]** action
    -   `action.speed` **[Number][69]** the updated speed of the animation

Returns **[Object][65]** nextState

### updateLayerBlendingUpdater

update layer blending mode

-   **Action**: [`updateLayerBlending`][96]

**Parameters**

-   `state` **[Object][65]** `visState`
-   `action` **[Object][65]** action
    -   `action.mode` **[string][66]** one of `additive`, `normal` and `subtractive`

Returns **[Object][65]** nextState

### updateVisDataUpdater

Add new dataset to `visState`, with option to load a map config along with the datasets

-   **Action**: [`updateVisData`][97]

**Parameters**

-   `state` **[Object][65]** `visState`
-   `action` **[Object][65]** action
    -   `action.datasets` **([Array][70]&lt;[Object][65]> | [Object][65])** **\*required** datasets can be a dataset or an array of datasets
        Each dataset object needs to have `info` and `data` property.
        -   `action.datasets.info` **[Object][65]** \-info of a dataset
            -   `action.datasets.info.id` **[string][66]** id of this dataset. If config is defined, `id` should matches the `dataId` in config.
            -   `action.datasets.info.label` **[string][66]** A display name of this dataset
        -   `action.datasets.data` **[Object][65]** **\*required** The data object, in a tabular format with 2 properties `fields` and `rows`
            -   `action.datasets.data.fields` **[Array][70]&lt;[Object][65]>** **\*required** Array of fields,
                -   `action.datasets.data.fields.name` **[string][66]** **\*required** Name of the field,
            -   `action.datasets.data.rows` **[Array][70]&lt;[Array][70]>** **\*required** Array of rows, in a tabular format with `fields` and `rows`
    -   `action.options` **[Object][65]** option object `{centerMap: true, keepExistingConfig: false}`
    -   `action.config` **[Object][65]** map config

Returns **[Object][65]** nextState

[1]: #visstateupdaters

[2]: #examples

[3]: #addfilterupdater

[4]: #parameters

[5]: #addlayerupdater

[6]: #parameters-1

[7]: #enlargefilterupdater

[8]: #parameters-2

[9]: #initial_vis_state

[10]: #properties

[11]: #interactionconfigchangeupdater

[12]: #parameters-3

[13]: #layerclickupdater

[14]: #parameters-4

[15]: #layerhoverupdater

[16]: #parameters-5

[17]: #layertypechangeupdater

[18]: #parameters-6

[19]: #layervisconfigchangeupdater

[20]: #parameters-7

[21]: #layervisualchannelchangeupdater

[22]: #parameters-8

[23]: #loadfileserrupdater

[24]: #parameters-9

[25]: #loadfilesupdater

[26]: #parameters-10

[27]: #mapclickupdater

[28]: #parameters-11

[29]: #receivemapconfigupdater

[30]: #parameters-12

[31]: #removedatasetupdater

[32]: #parameters-13

[33]: #removefilterupdater

[34]: #parameters-14

[35]: #removelayerupdater

[36]: #parameters-15

[37]: #reorderlayerupdater

[38]: #parameters-16

[39]: #resetmapconfigupdater

[40]: #parameters-17

[41]: #setfilterplotupdater

[42]: #parameters-18

[43]: #setfilterupdater

[44]: #parameters-19

[45]: #showdatasettableupdater

[46]: #parameters-20

[47]: #togglefilteranimationupdater

[48]: #parameters-21

[49]: #togglelayerformapupdater

[50]: #parameters-22

[51]: #togglesplitmapupdater

[52]: #parameters-23

[53]: #updateanimationtimeupdater

[54]: #parameters-24

[55]: #updatefilteranimationspeedupdater

[56]: #parameters-25

[57]: #updatelayeranimationspeedupdater

[58]: #parameters-26

[59]: #updatelayerblendingupdater

[60]: #parameters-27

[61]: #updatevisdataupdater

[62]: #parameters-28

[63]: ../advanced-usage/using-updaters.md

[64]: ../actions/actions.md#addfilter

[65]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[66]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[67]: ../actions/actions.md#addlayer

[68]: ../actions/actions.md#enlargefilter

[69]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[70]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[71]: ../actions/actions.md#interactionconfigchange

[72]: ../actions/actions.md#onlayerclick

[73]: ../actions/actions.md#onlayerhover

[74]: ../actions/actions.md#layertypechange

[75]: ../actions/actions.md#layervisconfigchange

[76]: ../actions/actions.md#layervisualchannelconfigchange

[77]: ../actions/actions.md#loadfileserr

[78]: ../actions/actions.md#loadfiles

[79]: ../actions/actions.md#onmapclick

[80]: ../actions/actions.md#receivemapconfig

[81]: ../actions/actions.md#removedataset

[82]: ../actions/actions.md#removefilter

[83]: ../actions/actions.md#removelayer

[84]: ../actions/actions.md#reorderlayer

[85]: ../actions/actions.md#resetmapconfig

[86]: ../actions/actions.md#setfilterplot

[87]: ../actions/actions.md#setfilter

[88]: ../actions/actions.md#showdatasettable

[89]: ../actions/actions.md#togglefilteranimation

[90]: ../actions/actions.md#togglelayerformap

[91]: ../actions/actions.md#togglesplitmap

[92]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/undefined

[93]: ../actions/actions.md#updateanimationtime

[94]: ../actions/actions.md#updatefilteranimationspeed

[95]: ../actions/actions.md#updatelayeranimationspeed

[96]: ../actions/actions.md#updatelayerblending

[97]: ../actions/actions.md#updatevisdata
