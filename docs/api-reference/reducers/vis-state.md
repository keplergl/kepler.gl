<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [visStateUpdaters][1]
    -   [addFilterUpdater][3]
    -   [addLayerUpdater][5]
    -   [enlargeFilterUpdater][7]
    -   [INITIAL_VIS_STATE][9]
    -   [interactionConfigChangeUpdater][11]
    -   [layerClickUpdater][13]
    -   [layerHoverUpdater][15]
    -   [layerTypeChangeUpdater][17]
    -   [layerVisConfigChangeUpdater][19]
    -   [layerVisualChannelChangeUpdater][21]
    -   [loadFilesErrUpdater][23]
    -   [mapClickUpdater][25]
    -   [receiveMapConfigUpdater][27]
    -   [removeDatasetUpdater][29]
    -   [removeFilterUpdater][31]
    -   [removeLayerUpdater][33]
    -   [reorderLayerUpdater][35]
    -   [resetMapConfigVisStateUpdater][37]
    -   [setFilterPlotUpdater][39]
    -   [setFilterUpdater][41]
    -   [setVisibleLayersForMapUpdater][43]
    -   [showDatasetTableUpdater][45]
    -   [toggleFilterAnimationUpdater][47]
    -   [toggleLayerForMapUpdater][49]
    -   [toggleSplitMapUpdater][51]
    -   [updateAnimationSpeedUpdater][53]
    -   [updateLayerBlendingUpdater][55]
    -   [updateVisDataUpdater][57]

## visStateUpdaters

Updaters for `visState` reducer. Can be used in your root reducer to directly modify kepler.gl's state.
Read more about [Using updaters][59]

**Examples**

```javascript
import keplerGlReducer, {visStateUpdaters} from 'kepler.gl/reducers';
// Root Reducer
const reducers = combineReducers({
 keplerGl: keplerGlReducer,
 app: appReducer
});

const composedReducer = (state, action) => {
 switch (action.type) {
   case 'CLICK_BUTTON':
     return {
       ...state,
       keplerGl: {
         ...state.keplerGl,
         foo: {
            ...state.keplerGl.foo,
            visState: visStateUpdaters.enlargeFilterUpdater(
              state.keplerGl.foo.visState,
              {idx: 0}
            )
         }
       }
     };
 }
 return reducers(state, action);
};

export default composedReducer;
```

### addFilterUpdater

Add a new filter

-   **Action**: [`addFilter`][60]

**Parameters**

-   `state` **[Object][61]** `visState`
-   `action` **[Object][61]** action
    -   `action.dataId` **[string][62]** dataset `id` this new filter is associated with

Returns **[Object][61]** nextState

### addLayerUpdater

Add a new layer

-   **Action**: [`addLayer`][63]

**Parameters**

-   `state` **[Object][61]** `visState`
-   `action` **[Object][61]** action
    -   `action.props` **[Object][61]** new layer props

Returns **[Object][61]** nextState

### enlargeFilterUpdater

Show larger time filter at bottom for time playback (apply to time filter only)

-   **Action**: [`enlargeFilter`][64]

**Parameters**

-   `state` **[Object][61]** `visState`
-   `action` **[Object][61]** action
    -   `action.idx` **[Number][65]** index of filter to enlarge

Returns **[Object][61]** nextState

### INITIAL_VIS_STATE

Default initial `visState`

Type: [Object][61]

#### Properties

-   `layers` **[Array][66]** 
-   `layerData` **[Array][66]** 
-   `layerToBeMerged` **[Array][66]** 
-   `layerOrder` **[Array][66]** 
-   `filters` **[Array][66]** 
-   `filterToBeMerged` **[Array][66]** 
-   `datasets` **[Array][66]** 
-   `editingDataset` **[string][62]** 
-   `interactionConfig` **[Object][61]** 
-   `interactionToBeMerged` **[Object][61]** 
-   `layerBlending` **[string][62]** 
-   `hoverInfo` **[Object][61]** 
-   `clicked` **[Object][61]** 
-   `fileLoading` **[boolean][67]** 
-   `fileLoadingErr` **any** 
-   `splitMaps` **[Array][66]** a list of objects of layer availabilities and visibilities for each map

### interactionConfigChangeUpdater

Update `interactionConfig`

-   **Action**: [`interactionConfigChange`][68]

**Parameters**

-   `state` **[Object][61]** `visState`
-   `action` **[Object][61]** action
    -   `action.config` **[Object][61]** new config as key value map: `{tooltip: {enabled: true}}`

Returns **[Object][61]** nextState

### layerClickUpdater

Trigger layer click event with clicked object

-   **Action**: [`onLayerClick`][69]

**Parameters**

-   `state` **[Object][61]** `visState`
-   `action` **[Object][61]** action
    -   `action.info` **[Object][61]** Object clicked, returned by deck.gl

Returns **[Object][61]** nextState

### layerHoverUpdater

Trigger layer hover event with hovered object

-   **Action**: [`onLayerHover`][70]

**Parameters**

-   `state` **[Object][61]** `visState`
-   `action` **[Object][61]** action
    -   `action.info` **[Object][61]** Object hovered, returned by deck.gl

Returns **[Object][61]** nextState

### layerTypeChangeUpdater

Update layer type. Previews layer config will be copied if applicable.

-   **Action**: [`layerTypeChange`][71]

**Parameters**

-   `state` **[Object][61]** `visState`
-   `action` **[Object][61]** action
    -   `action.oldLayer` **[Object][61]** layer to be updated
    -   `action.newType` **[string][62]** new type

Returns **[Object][61]** nextState

### layerVisConfigChangeUpdater

Update layer `visConfig`

-   **Action**: [`layerVisConfigChange`][72]

**Parameters**

-   `state` **[Object][61]** `visState`
-   `action` **[Object][61]** action
    -   `action.oldLayer` **[Object][61]** layer to be updated
    -   `action.newVisConfig` **[Object][61]** new visConfig as a key value map: e.g. `{opacity: 0.8}`

Returns **[Object][61]** nextState

### layerVisualChannelChangeUpdater

Update layer visual channel

-   **Action**: [`layerVisualChannelConfigChange`][73]

**Parameters**

-   `state` **[Object][61]** `visState`
-   `action` **[Object][61]** action
    -   `action.oldLayer` **[Object][61]** layer to be updated
    -   `action.newConfig` **[Object][61]** new visual channel config
    -   `action.channel` **[string][62]** channel to be updated

Returns **[Object][61]** nextState

### loadFilesErrUpdater

Update state with file loading error

-   **Action**: [`loadFilesErr`][74]

**Parameters**

-   `state` **[Object][61]** `visState`
-   `action` **[Object][61]** action
    -   `action.error` **any** 

Returns **[Object][61]** nextState

### mapClickUpdater

Trigger map click event, unselect clicked object

-   **Action**: [`onMapClick`][75]

**Parameters**

-   `state` **[Object][61]** `visState`

Returns **[Object][61]** nextState

### receiveMapConfigUpdater

Propagate `visState` reducer with a new configuration. Current config will be override.

-   **Action**: [`receiveMapConfig`][76]

**Parameters**

-   `state` **[Object][61]** `visState`
-   `action` **[Object][61]** action
    -   `action.payload` **[Object][61]** map config to be propagated

Returns **[Object][61]** nextState

### removeDatasetUpdater

Remove a dataset and all layers, filters, tooltip configs that based on it

-   **Action**: [`removeDataset`][77]

**Parameters**

-   `state` **[Object][61]** `visState`
-   `action` **[Object][61]** action
    -   `action.key` **[string][62]** dataset id

Returns **[Object][61]** nextState

### removeFilterUpdater

Remove a filter

-   **Action**: [`removeFilter`][78]

**Parameters**

-   `state` **[Object][61]** `visState`
-   `action` **[Object][61]** action
    -   `action.idx` **[Number][65]** index of filter to b e removed

Returns **[Object][61]** nextState

### removeLayerUpdater

remove layer

-   **Action**: [`removeLayer`][79]

**Parameters**

-   `state` **[Object][61]** `visState`
-   `action` **[Object][61]** action
    -   `action.idx` **[Number][65]** index of layer to b e removed

Returns **[Object][61]** nextState

### reorderLayerUpdater

Reorder layer

-   **Action**: [`reorderLayer`][80]

**Parameters**

-   `state` **[Object][61]** `visState`
-   `action` **[Object][61]** action
    -   `action.order` **[Array][66]&lt;[Number][65]>** an array of layer indexes

Returns **[Object][61]** nextState

### resetMapConfigVisStateUpdater

reset visState to initial State

-   **Action**: [`resetMapConfig`][81]

**Parameters**

-   `state` **[Object][61]** `visState`

Returns **[Object][61]** nextState

### setFilterPlotUpdater

Set the property of a filter plot

-   **Action**: [`setFilterPlot`][82]

**Parameters**

-   `state` **[Object][61]** `visState`
-   `action` **[Object][61]** action
    -   `action.idx` **[Number][65]** 
    -   `action.newProp` **[Object][61]** key value mapping of new prop `{yAxis: 'histogram'}`

Returns **[Object][61]** nextState

### setFilterUpdater

Update filter property

-   **Action**: [`setFilter`][83]

**Parameters**

-   `state` **[Object][61]** `visState`
-   `action` **[Object][61]** action
    -   `action.idx` **[Number][65]** `idx` of filter to be updated
    -   `action.prop` **[string][62]** `prop` of filter, e,g, `dataId`, `name`, `value`
    -   `action.value` **any** new value

Returns **[Object][61]** nextState

### setVisibleLayersForMapUpdater

Set layers to be visible in split map

-   **Action**: [`setVisibleLayersForMap`][84]

**Parameters**

-   `state` **[Object][61]** `visState`
-   `action` **[Object][61]** action
-   `mapIndex` **[Number][65]** index of the split map
-   `layerIds` **[Array][66]&lt;[string][62]>** array of layer ids

Returns **[Object][61]** nextState

### showDatasetTableUpdater

Display dataset table in a modal

-   **Action**: [`showDatasetTable`][85]

**Parameters**

-   `state` **[Object][61]** `visState`
-   `action` **[Object][61]** action
    -   `action.dataId` **[string][62]** dataset id to show in table

Returns **[Object][61]** nextState

### toggleFilterAnimationUpdater

Start and end filter animation

-   **Action**: [`toggleAnimation`][86]

**Parameters**

-   `state` **[Object][61]** `visState`
-   `action` **[Object][61]** action
    -   `action.idx` **[Number][65]** idx of filter

Returns **[Object][61]** nextState

### toggleLayerForMapUpdater

Toggle visibility of a layer in a split map

-   **Action**: [`toggleLayerForMap`][87]

**Parameters**

-   `state` **[Object][61]** 
-   `action` **[Object][61]** 
    -   `action.mapIndex` **[Number][65]** index of the split map
    -   `action.layerId` **[string][62]** id of the layer

Returns **[Object][61]** nextState

### toggleSplitMapUpdater

Toggle visibility of a layer for a split map

-   **Action**: [`toggleSplitMap`][88]

**Parameters**

-   `state` **[Object][61]** `visState`
-   `action` **[Object][61]** action
    -   `action.payload` **([Number][65] \| [undefined][89])** index of the split map

Returns **[Object][61]** nextState

### updateAnimationSpeedUpdater

Change filter animation speed

-   **Action**: [`updateAnimationSpeed`][90]

**Parameters**

-   `state` **[Object][61]** `visState`
-   `action` **[Object][61]** action
    -   `action.idx` **[Number][65]** `idx` of filter
    -   `action.speed` **[Number][65]** `speed` to change it to. `speed` is a multiplier

Returns **[Object][61]** nextState

### updateLayerBlendingUpdater

update layer blending mode

-   **Action**: [`updateLayerBlending`][91]

**Parameters**

-   `state` **[Object][61]** `visState`
-   `action` **[Object][61]** action
    -   `action.mode` **[string][62]** one of `additive`, `normal` and `subtractive`

Returns **[Object][61]** nextState

### updateVisDataUpdater

Add new dataset to `visState`, with option to load a map config along with the datasets

-   **Action**: [`updateVisData`][92]

**Parameters**

-   `state` **[Object][61]** `visState`
-   `action` **[Object][61]** action
    -   `action.datasets` **([Array][66]&lt;[Object][61]> | [Object][61])** **\*required** datasets can be a dataset or an array of datasets
        Each dataset object needs to have `info` and `data` property.
        -   `action.datasets.info` **[Object][61]** \-info of a dataset
            -   `action.datasets.info.id` **[string][62]** id of this dataset. If config is defined, `id` should matches the `dataId` in config.
            -   `action.datasets.info.label` **[string][62]** A display name of this dataset
        -   `action.datasets.data` **[Object][61]** **\*required** The data object, in a tabular format with 2 properties `fields` and `rows`
            -   `action.datasets.data.fields` **[Array][66]&lt;[Object][61]>** **\*required** Array of fields,
                -   `action.datasets.data.fields.name` **[string][62]** **\*required** Name of the field,
            -   `action.datasets.data.rows` **[Array][66]&lt;[Array][66]>** **\*required** Array of rows, in a tabular format with `fields` and `rows`
    -   `action.options` **[Object][61]** option object `{centerMap: true}`
    -   `action.config` **[Object][61]** map config

Returns **[Object][61]** nextState

[1]: #visstateupdaters

[2]: #examples

[3]: #addfilterupdater

[4]: #parameters

[5]: #addlayerupdater

[6]: #parameters-1

[7]: #enlargefilterupdater

[8]: #parameters-2

[9]: #initial_vis_state

[10]: #properties

[11]: #interactionconfigchangeupdater

[12]: #parameters-3

[13]: #layerclickupdater

[14]: #parameters-4

[15]: #layerhoverupdater

[16]: #parameters-5

[17]: #layertypechangeupdater

[18]: #parameters-6

[19]: #layervisconfigchangeupdater

[20]: #parameters-7

[21]: #layervisualchannelchangeupdater

[22]: #parameters-8

[23]: #loadfileserrupdater

[24]: #parameters-9

[25]: #mapclickupdater

[26]: #parameters-10

[27]: #receivemapconfigupdater

[28]: #parameters-11

[29]: #removedatasetupdater

[30]: #parameters-12

[31]: #removefilterupdater

[32]: #parameters-13

[33]: #removelayerupdater

[34]: #parameters-14

[35]: #reorderlayerupdater

[36]: #parameters-15

[37]: #resetmapconfigvisstateupdater

[38]: #parameters-16

[39]: #setfilterplotupdater

[40]: #parameters-17

[41]: #setfilterupdater

[42]: #parameters-18

[43]: #setvisiblelayersformapupdater

[44]: #parameters-19

[45]: #showdatasettableupdater

[46]: #parameters-20

[47]: #togglefilteranimationupdater

[48]: #parameters-21

[49]: #togglelayerformapupdater

[50]: #parameters-22

[51]: #togglesplitmapupdater

[52]: #parameters-23

[53]: #updateanimationspeedupdater

[54]: #parameters-24

[55]: #updatelayerblendingupdater

[56]: #parameters-25

[57]: #updatevisdataupdater

[58]: #parameters-26

[59]: ../advanced-usage/using-updaters.md

[60]: ../actions/actions.md#addfilter

[61]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[62]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[63]: ../actions/actions.md#addlayer

[64]: ../actions/actions.md#enlargefilter

[65]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[66]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[67]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[68]: ../actions/actions.md#interactionconfigchange

[69]: ../actions/actions.md#onlayerclick

[70]: ../actions/actions.md#onlayerhover

[71]: ../actions/actions.md#layertypechange

[72]: ../actions/actions.md#layervisconfigchange

[73]: ../actions/actions.md#layervisualchannelconfigchange

[74]: ../actions/actions.md#loadfileserr

[75]: ../actions/actions.md#onmapclick

[76]: ../actions/actions.md#receivemapconfig

[77]: ../actions/actions.md#removedataset

[78]: ../actions/actions.md#removefilter

[79]: ../actions/actions.md#removelayer

[80]: ../actions/actions.md#reorderlayer

[81]: ../actions/actions.md#resetmapconfig

[82]: ../actions/actions.md#setfilterplot

[83]: ../actions/actions.md#setfilter

[84]: ../actions/actions.md#setvisiblelayersformap

[85]: ../actions/actions.md#showdatasettable

[86]: ../actions/actions.md#toggleanimation

[87]: ../actions/actions.md#togglelayerformap

[88]: ../actions/actions.md#togglesplitmap

[89]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/undefined

[90]: ../actions/actions.md#updateanimationspeed

[91]: ../actions/actions.md#updatelayerblending

[92]: ../actions/actions.md#updatevisdata
