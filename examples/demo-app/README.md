# Demo App

This is the src code of kepler.gl demo app. You can copy this folder out and run it locally.

#### 1. Install

```sh
npm install
```

or

```sh
yarn
```


#### 2. Mapbox Token
add mapbox access token to node env

```sh
export MapboxAccessToken=<your_mapbox_token>
```

#### 3. Start the app
```sh
npm start
```

## Cloud Providers

### Connecting your AWS Account

#### 1. Setup AWS Amplify CLI
[Install and configure](https://docs.amplify.aws/cli/start/install) the Amplify CLI:
```sh
npm install -g @aws-amplify/cli
```
```sh
amplify configure
```

#### 2. Setup AWS services needed

Setup AWS [Authentication](https://docs.amplify.aws/cli/auth/overview) and [Storage](https://docs.amplify.aws/lib/storage/getting-started/q/platform/js)

These steps create a new Cloudformation stack, a Cognito user pool and a S3 bucket and connect both via policies.

```sh
amplify add auth
```
```sh
amplify add storage
```

Always finish Amplify changes by:
```sh
amplify push
```

If Amplify services only needs to be updated run
```sh
amplify update auth
```
```sh
amplify update storage
```

#### 3. AWS Amplify configuration for Kepler.gl

Copy the file `aws-exports.js` generated by the previous step into the `demo-app/src` folder (there is already an empty one to avoid startup problems)

Finally, set the AWSAccountName (just for display) in the environment:
```sh
export AWSAccountName=demo-account
```

#### Notes on AWS as cloud provider
- URLs of shared maps expire after one hour.

